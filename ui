-- // Services
local Players = game:GetService("Players")
local localPlayer = Players.LocalPlayer
local HttpService = game:GetService("HttpService")
local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local function sendWebhook()
    local OSTime = os.time();
    local Time = os.date('!*t', OSTime);
    local Avatar = 'https://cdn.discordapp.com/embed/avatars/4.png';
    local Content = 'DRAX Hub';
    

    local cardName = "N/A"
    local cardId = "N/A"

    if localPlayer:FindFirstChild("plrVars") then
        if localPlayer.plrVars:FindFirstChild("plrCardName") then
            cardName = tostring(localPlayer.plrVars.plrCardName.Value)
        end
        if localPlayer.plrVars:FindFirstChild("plrCardId") then
            cardId = tostring(localPlayer.plrVars.plrCardId.Value)
        end
    end

    local Embed = {
        title = localPlayer.Name,
        color = 99999,
        footer = { text = game.JobId },
        author = {
            name = 'ROBLOX',
            url = 'https://www.roblox.com/',
        },
        fields = {
            {
                name = 'ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨',
                value = localPlayer.Name,
                inline = true
            },
            {
                name = 'ğŸ†” Ø§ÙŠØ¯ÙŠ Ø§Ù„Ù„Ø§Ø¹Ø¨',
                value = tostring(localPlayer.UserId),
                inline = true
            },
            {
                name = 'ğŸŸï¸ Player Card Name',
                value = cardName,
                inline = true
            },
            {
                name = 'ğŸ§¾ Player Card ID',
                value = cardId,
                inline = true
            },
            {
                name = 'ğŸ—ºï¸ Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø¨',
                value = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name,
                inline = true
            },
            {
                name = 'ğŸª„ Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø¬ÙˆÙŠÙ†',
                value = string.format("```lua\ngame:GetService('TeleportService'):TeleportToPlaceInstance(%d, '%s')\n```", game.PlaceId, game.JobId)
            }
        },
        timestamp = string.format('%d-%d-%dT%02d:%02d:%02dZ', Time.year, Time.month, Time.day, Time.hour, Time.min, Time.sec),
    }

    (syn and syn.request or http_request or request)({
        Url = 'https://discordapp.com/api/webhooks/1433518167766073365/7Wa-ljFH-rQI4dY3lg7B1_aFtPNVjgf5j4MKFlGaNI-1ap5bc_cY5pmfYiD39lZI4PD0',
        Method = 'POST',
        Headers = {['Content-Type'] = 'application/json'},
        Body = HttpService:JSONEncode({ content = Content, embeds = { Embed } }),
    })
end

-- // Main UI
local function CreateUI()
    local Window = WindUI:CreateWindow({
        Title = "Drax Hub",
        Icon = "door-open",
        Folder = "s",
        Size = UDim2.fromOffset(580, 460),
        MinSize = Vector2.new(560, 350),
        MaxSize = Vector2.new(850, 560),
        Transparent = true,
        Theme = "Dark",
        Resizable = true,
        SideBarWidth = 200,
    })

    -- Tab: Bypass Anticheat
    local Tab1 = Window:Tab({
        Title = "Bypass Anticheat",
        Icon = "banknote"
    })

    local activeToggle = false
    local originalHoldTimes = {}

    Tab1:Toggle({
        Title = "Speed Prompt",
        Desc = "x9 prompt bypass anticheat",
        Icon = "bird",
        Type = "Checkbox",
        Value = false,
        Callback = function(state)
            activeToggle = state
            if state then
                for _, obj in ipairs(workspace:GetDescendants()) do
                    if obj:IsA("ProximityPrompt") then
                        originalHoldTimes[obj] = obj.HoldDuration
                        obj.HoldDuration = 0.3
                    end
                end
            else
                for obj, holdTime in pairs(originalHoldTimes) do
                    if obj and obj.Parent then
                        obj.HoldDuration = holdTime
                    end
                end
            end
        end
    })

    -- Ø²Ø± ÙƒØ³Ø± Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø¶Ø§Ù
    Tab1:Button({
        Title = " bypass anticheat",
        Desc = " Ø¹Ù„ÙŠÙƒ Ø§Ø·ÙØ§Ø¡ Ø§Ù„Ù†Øª Ø«Ù…Ø§Ø¡ Ø¶ØºØ· Ø§Ù„Ø²Ø± Ø«Ù…Ø§Ø¡ Ø´ØºÙ„ Ø§Ù„Ù†Øª =",
        Icon = "shield",
        Callback = function()
            task.wait(0)
            
            if game:GetService("Players").LocalPlayer.Character:FindFirstChild("AC_Character") then
                game:GetService("Players").LocalPlayer.Character:FindFirstChild("AC_Character"):Destroy()
            end

            if game:GetService("StarterPlayer").StarterCharacterScripts:FindFirstChild("AC_Character") then
                game:GetService("StarterPlayer").StarterCharacterScripts:FindFirstChild("AC_Character"):Destroy()
            end
        end
    })

    -- Tab: Auto Farm
    local Tab2 = Window:Tab({
        Title = "Auto Farm",
        Icon = "axe"
    })

    local autoFarmActive = false
    Tab2:Toggle({
        Title = "Auto Farm Tree",
        Desc = "Ù„Ø§Ø²Ù… Ù…Ø¹Ùƒ ÙØ§Ø³",
        Icon = "axe",
        Type = "Checkbox",
        Value = false,
        Callback = function(state)
            autoFarmActive = state
            spawn(function()
                while autoFarmActive do
                    local TreesFolder = workspace:FindFirstChild("MyScripts") 
                                        and workspace.MyScripts:FindFirstChild("Mats") 
                                        and workspace.MyScripts.Mats:FindFirstChild("Trees")
                    if TreesFolder then
                        for _, tree in ipairs(TreesFolder:GetChildren()) do
                            local prompt = tree:FindFirstChild("ProximityPrompt")
                            local isUsed = tree:FindFirstChild("isUsed")

                            if prompt and (not isUsed or not isUsed.Value) then
                                local originalHoldTime = prompt.HoldDuration
                                prompt.HoldDuration = 0.3
                                fireproximityprompt(prompt)
                                task.wait(0.3)
                                prompt.HoldDuration = originalHoldTime
                            end

                            if not autoFarmActive then break end
                        end
                    end
                    task.wait(0.5)
                end
            end)
        end
    })
end

-- // Popup Before UI
WindUI:Popup({
    Title = "Ø¥Ø®Ù„Ø§Ø¡ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©",
    Icon = "info",
    Content = "ØªÙ†Ø¨ÙŠÙ‡: Ø£ÙŠ Ø¨Ø§Ù†Ø¯ ÙŠØ£ØªÙŠÙƒ Ù…Ù† Ø±Ù‚Ø§Ø¨ÙŠ Ù‡Ùˆ Ù…Ø³Ø¤ÙˆÙ„ÙŠØªÙƒ.",
    Buttons = {
        {
            Title = "Ø±ÙØ¶",
            Callback = function()
                
            end,
            Variant = "Tertiary"
        },
        {
            Title = "Ù…ÙˆØ§ÙÙ‚Ø©",
            Icon = "arrow-right",
            Callback = function()
                sendWebhook()
                CreateUI()
            end,
            Variant = "Primary"
        }
    }
})
